---
title: opacity|visibilty|dispaly å±æ€§å°†å…ƒç´ éšè— çš„å¯¹æ¯”åˆ†æ
date: 2020-03-18 12:10:10
tags:
    - CSS
categories: CSS
thumbnail: '../assets/opacity-display-visibilty.png'
---

### éšè—åŠŸèƒ½
opacity ç”¨æ¥è®¾ç½®é€æ˜åº¦ 
display å®šä¹‰å»ºç«‹å¸ƒå±€æ—¶å…ƒç´ ç”Ÿæˆçš„æ˜¾ç¤ºæ¡†ç±»å‹
visibility ç”¨æ¥è®¾ç½®å…ƒç´ æ˜¯å¦å¯è§ã€‚
opacity: 0; dispaly: none; visibility: hidden; å‡å¯ä»¥éšè—å…ƒç´ ï¼Œä½†å­˜åœ¨åŒºåˆ«
<!-- more -->

#### æ˜¯å¦å æ®é¡µé¢ç©ºé—´

```
<div class="yellow"></div>
<div class="red"></div>
```
opacityä¸ visibility ä»ä¼šå ç”¨é¡µé¢ç©ºé—´ï¼›dispaly ä¸ä¼šå ç”¨é¡µé¢ç©ºé—´

#### å¯¹å­å…ƒç´ çš„å½±å“

å¦‚æœå­å…ƒç´ ä»€ä¹ˆéƒ½ä¸è®¾ç½®çš„è¯ï¼Œéƒ½ä¼šå—çˆ¶å…ƒç´ çš„å½±å“ï¼Œå’Œçˆ¶å…ƒç´ çš„æ˜¾ç¤ºæ•ˆæœä¸€æ ·ï¼›
å¦‚æœå­å…ƒç´ è®¾ç½®çš„å€¼ å’Œ çˆ¶å…ƒç´ è®¾ç½®çš„å€¼ä¸åŒï¼š
```
<div class="yellow">
        <div class='blue'></div>
</div>
```
opacity ä¸ display ï¼š çˆ¶å…ƒç´ å¯¹å­å…ƒç´ çš„å½±å“å¾ˆæ˜æ˜¾ï¼Œå­å…ƒç´ è®¾ç½®çš„ opacity å’Œ display å±æ€§æ˜¯ä¸èµ·ä½œç”¨çš„ï¼Œæ˜¾ç¤ºçš„æ•ˆæœå’Œçˆ¶å…ƒç´ ä¸€æ ·ï¼›
visibility: å­å…ƒç´ å¦‚æœè®¾ç½®ä¸º visibility:visible; å¹¶æ²¡æœ‰å—çˆ¶å…ƒç´ çš„å½±å“ï¼Œå¯ä»¥ç»§ç»­æ˜¾ç¤ºå‡ºæ¥.

#### è‡ªèº«ç»‘å®šçš„äº‹ä»¶æ˜¯å¦èƒ½ç»§ç»­è§¦å‘

æ˜¯æŒ‡ç”¨æˆ·äººä¸ºçš„è§¦å‘çš„äº‹ä»¶ï¼Œä¸åŒ…æ‹¬ä½¿ç”¨ JavaScript æ¨¡æ‹Ÿè§¦å‘çš„äº‹ä»¶
```
    <div class="yellow" onmouseenter="alert(0)"></div>
```
visibility å’Œ display å±æ€§ï¼Œè‡ªèº«çš„äº‹ä»¶ä¸ä¼šè§¦å‘ï¼Œè€Œä½¿ç”¨ opacity å±æ€§ï¼Œè‡ªèº«ç»‘å®šçš„äº‹ä»¶è¿˜æ˜¯ä¼šè§¦å‘çš„ã€‚

#### æ˜¯å¦å½±å“å…¶ä»–å…ƒç´ è§¦å‘äº‹ä»¶

```
<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <style>
       .red{
         width:400px;
         height:40px;
         background:red;
         position:relative;
       }
       
       .yellow{
        position:absolute;     
        top:0;
        left:0;
        width:200px;
        height:300px;
        background:yellow;
        opacity:0;            
       }
        
       .blue{
         width:200px;
         height:200px;
         background:blue;
       }
       .red:hover .yellow{
         opacity:1;          
       }
  </style>
 </head>
 <body>
      <div  class='red'>
         <div class='yellow'></div>
      </div>

      <p  class='blue' onmouseenter=alert(0)></p>
 </body>
</html>
```
é»„è‰²å—divå…ƒç´ è®¾ç½® opacity:0; ï¼Œé€šè¿‡å®šä½ï¼Œé®æŒ¡ä½äº† è“è‰²çš„på…ƒç´ ï¼Œå½“é¼ æ ‡ç§»åˆ°è“è‰²på…ƒç´ ä¸Šæ—¶ï¼Œå¹¶æ²¡æœ‰è§¦å‘è“è‰²på…ƒç´ çš„äº‹ä»¶ã€‚
é»„è‰²å—divå…ƒç´ è®¾ç½® visibility:hidden; ï¼Œé€šè¿‡å®šä½ï¼Œè™½ç„¶é®æŒ¡ä½äº† è“è‰²çš„på…ƒç´ ï¼Œä½†æ˜¯å½“é¼ æ ‡ç§»åˆ°è“è‰²på…ƒç´ ä¸Šæ—¶ï¼Œè¿˜æ˜¯è§¦å‘äº†è“è‰²på…ƒç´ ç»‘å®šçš„äº‹ä»¶ã€‚
display å› ä¸ºä»–ä¸ä¼šå æ®é¡µé¢ç©ºé—´ï¼Œä¹Ÿå°±ä¸ä¼šé®æŒ¡å…¶ä»–å…ƒç´ ï¼Œå°±ä¸ä¼šå½±å“å…¶ä»–å…ƒç´ è§¦å‘äº‹ä»¶äº†.

visibility å’Œ display å±æ€§æ˜¯ä¸ä¼šå½±å“å…¶ä»–å…ƒç´ è§¦å‘äº‹ä»¶çš„ï¼Œè€Œ opacity å±æ€§ å¦‚æœé®æŒ¡ä½å…¶ä»–å…ƒç´ ï¼Œå…¶ä»–çš„å…ƒç´ å°±ä¸ä¼šè§¦å‘äº‹ä»¶äº†

#### æ˜¯å¦äº§ç”Ÿå›æµï¼ˆreflowï¼‰

>å½“é¡µé¢ä¸­çš„ä¸€éƒ¨åˆ†(æˆ–å…¨éƒ¨)å› ä¸ºå…ƒç´ çš„è§„æ¨¡å°ºå¯¸ï¼Œå¸ƒå±€ï¼Œéšè—ç­‰æ”¹å˜è€Œéœ€è¦é‡æ–°æ„å»ºã€‚è¿™å°±ç§°ä¸ºå›æµ(ä¹Ÿæœ‰äººä¼šæŠŠå›æµå«åšæ˜¯é‡å¸ƒå±€æˆ–è€…é‡æ’)ã€‚
æ¯ä¸ªé¡µé¢è‡³å°‘éœ€è¦ä¸€æ¬¡å›æµï¼Œå°±æ˜¯åœ¨é¡µé¢ç¬¬ä¸€æ¬¡åŠ è½½çš„æ—¶å€™ã€‚

dispaly å±æ€§ä¼šäº§ç”Ÿå›æµï¼Œè€Œ opacity å’Œ visibility å±æ€§ä¸ä¼šäº§ç”Ÿå›æµã€‚

#### æ˜¯å¦äº§ç”Ÿé‡ç»˜ï¼ˆrepaintï¼‰

>å½“é¡µé¢ä¸­çš„ä¸€äº›å…ƒç´ éœ€è¦æ›´æ–°å±æ€§ï¼Œè€Œè¿™äº›å±æ€§åªæ˜¯å½±å“å…ƒç´ çš„å¤–è§‚ï¼Œé£æ ¼ï¼Œè€Œä¸ä¼šå½±å“å¸ƒå±€çš„æ—¶å€™ï¼Œæ¯”å¦‚background-colorã€‚åˆ™ç§°ä¸ºé‡ç»˜ã€‚

dispaly å’Œ visibility å±æ€§ä¼šäº§ç”Ÿé‡ç»˜ï¼Œè€Œ opacity å±æ€§ä¸ä¸€å®šä¼šäº§ç”Ÿé‡ç»˜

å…ƒç´ æå‡ä¸ºåˆæˆå±‚åï¼Œtransform å’Œ opacity ä¸ä¼šè§¦å‘ repaintï¼Œå¦‚æœä¸æ˜¯åˆæˆå±‚ï¼Œåˆ™å…¶ä¾ç„¶ä¼šè§¦å‘ repaintã€‚
åœ¨ Blink å’Œ WebKit å†…æ ¸çš„æµè§ˆå™¨ä¸­ï¼Œå¯¹äºåº”ç”¨äº† transition æˆ–è€… animation çš„ opacity å…ƒç´ ï¼Œæµè§ˆå™¨ä¼šå°†æ¸²æŸ“å±‚æå‡ä¸ºåˆæˆå±‚ã€‚
åŠ ä¸Š transition åå°±æ²¡æœ‰ é«˜äº®æ˜¾ç¤ºäº†ï¼Œè¿™æ—¶å€™ opacity ä¸ä¼šè§¦å‘é‡ç»˜ã€‚

ğŸ–ï¼š å›æµå¿…å°†å¼•èµ·é‡ç»˜ï¼Œè€Œé‡ç»˜ä¸ä¸€å®šä¼šå¼•èµ·å›æµ

#### æ˜¯å¦æ”¯æŒtransition
opacity æ˜¯æ”¯æŒ transitionçš„ï¼Œä¸€èˆ¬æ·¡å…¥æ·¡å‡ºçš„æ•ˆæœå°±æ˜¯è¿™æ ·å®ç°çš„

visibility ä¹Ÿæ˜¯æ”¯æŒ transition çš„ã€‚

visibility: ç¦»æ•£æ­¥éª¤ï¼Œåœ¨0åˆ°1æ•°å­—èŒƒå›´ä¹‹å†…ï¼Œ0è¡¨ç¤ºâ€œéšè—â€ï¼Œ1è¡¨ç¤ºå®Œå…¨â€œæ˜¾ç¤ºâ€
visibility : hidden; å¯ä»¥çœ‹æˆ visibility : 0;
visibility : visible; å¯ä»¥çœ‹æˆ visibility : 1;

åªè¦ visibility çš„å€¼å¤§äº0å°±æ˜¯æ˜¾ç¤ºçš„ï¼Œæ‰€ä»¥
visibility:visible è¿‡æ¸¡åˆ° visibility:hiddenï¼Œçœ‹ä¸Šå»ä¸æ˜¯å¹³æ»‘çš„è¿‡æ¸¡ï¼Œè€Œæ˜¯è¿›è¡Œäº†ä¸€ä¸ªå»¶æ—¶ã€‚
å¦‚æœ visibility:hidden è¿‡æ¸¡åˆ° visibility:visible ï¼Œåˆ™æ˜¯ç«‹å³æ˜¾ç¤ºï¼Œæ²¡æœ‰å»¶æ—¶ã€‚

å½“å…ƒç´ æ˜¯ visibility:hidden; æ—¶ï¼Œè‡ªèº«çš„äº‹ä»¶ä¸ä¼šè§¦å‘ï¼›è¦å»å°†è‡ªèº«çš„ visibility:hidden è¿‡æ¸¡åˆ° visibility:visible æ˜¯ä¸ä¼šèµ·ä½œç”¨çš„ã€‚
ä½†æ˜¯åœ¨å…¶ä»–å…ƒç´ ä¸ŠåŠ äº‹ä»¶ï¼Œæ¥å°†è¯¥å…ƒç´ çš„ visibility:hidden è¿‡æ¸¡åˆ° visibility:visible æ˜¯å¯ä»¥çš„

display ä¸ä»…ä¸æ”¯æŒtransitionï¼Œå®ƒè¿˜ä¼šä½¿ transition å¤±æ•ˆ

transition è¦èµ·ä½œç”¨ï¼Œå…ƒç´ å¿…é¡»æ˜¯å·²ç»æ¸²æŸ“åœ¨é¡µé¢ä¸Šçš„å…ƒç´ 
![](/assets/summary.png)
